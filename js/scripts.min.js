jQuery(document).ready(function(r){var s=r("body");r("html").removeClass("no-js").addClass("js"),s.addClass("js-enabled responsive-large");var e=s.hasClass("slider-fade"),t=s.hasClass("slider-autoplay"),n=s.hasClass("slider-adaptiveHeight"),o=s.hasClass("theme-accordion"),a=s.hasClass("mainnav-forceclick"),l=!s.hasClass("nologo"),c=!s.hasClass("md-showsitelogo");o&&r('a[href*="#"]:not([href="#"]):not([href="#nav"]):not([href="#hauptnav-anchor"]):not(.accordion-toggle):not(.accordion-tabs-nav-toggle)').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=r(this.hash);if((e=e.length?e:r("[name="+this.hash.slice(1)+"]")).length)return r("html,body").animate({scrollTop:e.offset().top-185},1e3),!1}});var i=!!t,d=i,p=!!e,u=!!n,h='<button type="button" class="slick-next">Next</button>',f='<button type="button" class="slick-prev">Vor</button>',g="Stop Animation",m="Start Animation";if("de-DE"==r("html").attr("lang")&&(h='<button type="button" class="slick-next">Weiter</button>',f='<button type="button" class="slick-prev">Vor</button>',g="Animation stoppen",m="Animation starten"),r.fn.slick&&(r(".featured-slider").slick({dots:!1,slidesToShow:1,autoplay:i,cssEase:"ease",draggable:!0,pauseOnHover:d,pauseOnFocus:d,infinite:!0,adaptiveHeight:u,fade:p,autoplaySpeed:7e3,nextArrow:h,prevArrow:f,appendArrows:".slider-controls"}),r(".slick-startstop").on("click",function(){r(".slick-startstop").hasClass("stopped")?(r(".featured-slider").slick("slickPlay"),r(".slick-startstop").removeClass("stopped"),r(".slick-startstop").html(g)):(r(".featured-slider").slick("slickPause"),r(".slick-startstop").addClass("stopped"),r(".slick-startstop").html(m))})),r("a.lightbox").fancybox({helpers:{title:{type:"outside"}}}),r(".assistant-tabs-nav a").bind("click",function(e){e.preventDefault();var t=r(this).attr("href");r(this).parents("ul").find("a").removeClass("active"),r(this).addClass("active"),r(this).parents(".assistant-tabs").find(".assistant-tab-pane").removeClass("assistant-tab-pane-active"),r(t).addClass("assistant-tab-pane-active")}),r(".assistant-tabs-nav a").keydown("click",function(e){if(32==e.keyCode){var t=r(this).attr("href");r(this).parents("ul").find("a").removeClass("active"),r(this).addClass("active"),r(this).parents(".assistant-tabs").find(".assistant-tab-pane").removeClass("assistant-tab-pane-active"),r(t).addClass("assistant-tab-pane-active")}}),o){r(".accordion-body").not(".accordion-body.open").not(".accordion-body.stayopen").hide(),r(".accordion-toggle").bind("click",function(e){e.preventDefault();var t=r(this).attr("href");r(this).closest(".accordion").find(".accordion-toggle").not(r(this)).removeClass("active"),r(this).closest(".accordion").find(".accordion-body").not(t).not(".accordion-body.stayopen").slideUp(),r(this).toggleClass("active"),r(t).slideToggle()}),r(".accordion-toggle").keydown(function(e){if(32==e.keyCode){var t=r(this).attr("href");r(this).closest(".accordion").find(".accordion-toggle").not(r(this)).removeClass("active"),r(this).closest(".accordion").find(".accordion-body").not(t).not(".accordion-body.stayopen").slideUp(),r(this).toggleClass("active"),r(t).slideToggle()}}),function(){if(window.location.hash&&"#nav"!==window.location.hash){var e=window.location.hash.split("_")[0],t=window.location.hash.split("_")[1];if("#collapse"==e){if(r.isNumeric(t)){var n="collapse_"+t;(i=s.find("#"+n)).closest(".accordion").parent().closest(".accordion-group")&&($upper=i.closest(".accordion").parent().closest(".accordion-group"),$upper.find(".accordion-toggle").addClass("active"),$upper.find(".accordion-body").show(),$upper.find(".accordion-toggle").children().find(".accordion-toggle").removeClass("active"),$upper.find(".accordion-body").children().find(".accordion-body").hide()),i.find(".accordion-toggle").addClass("active"),i.show();var o=i.offset().top-220;r("html,body").animate({scrollTop:o},"slow")}}else{e=window.location.hash.split("#")[1];var i,a=encodeURIComponent(e);(i=r('a[name="'+a+'"]')).closest(".accordion").parent().closest(".accordion-group")&&($upper=i.closest(".accordion-group"),$upper.find(".accordion-toggle").addClass("active"),$upper.find(".accordion-body").show(),$upper.find(".accordion-toggle").children().find(".accordion-toggle").removeClass("active"),$upper.find(".accordion-body").children().find(".accordion-body").hide(),i.addClass("active"),i.show(),o=i.offset().top-220,r("html,body").animate({scrollTop:o},"slow"))}}}()}window.screen.width<window.outerWidth?window.screen.width:window.outerWidth,"ontouchstart"in window||navigator.msMaxTouchPoints;function v(){20<r(window).scrollTop()?s.hasClass("nav-scrolled")||s.addClass("nav-scrolled"):s.hasClass("nav-scrolled")&&s.removeClass("nav-scrolled"),200<r(window).scrollTop()?s.hasClass("toplink-faded")||(r(".top-link").fadeIn(),s.addClass("toplink-faded")):s.hasClass("toplink-faded")&&(r(".top-link").fadeOut(),s.removeClass("toplink-faded"))}function b(){var t=0;r(".image-gallery-grid li").each(function(){var e=r(this).find(".caption").innerHeight();t<120+e&&(t=120+e)}),r(".image-gallery-grid li").css({height:t+"px"})}r("#content table").wrap('<div class="table-wrapper" />').wrap('<div class="scrollable" />'),v(),r(window).scroll(v),b(),r(window).resize(b),r(".organigram .has-sub").each(function(){r(this).prepend('<span class="toggle-icon"></span>'),r(this).children("ul").hide()}),r(".organigram .has-sub .toggle-icon").bind("click",function(e){e.preventDefault(),r(this).closest(".has-sub").toggleClass("active"),r(this).closest(".has-sub").children("ul").slideToggle()}),r("#nav > .nav > li > a").on("touchstart ontouchstart",function(e){return!r(this).parent().hasClass("has-sub")||(r(this).hasClass("clicked-once")?!!1:(r("#nav > .nav > li > a").removeClass("clicked-once"),r("#nav > .nav > li").removeClass("focus"),r(this).addClass("clicked-once"),r(this).parent("li").addClass("focus"),e.preventDefault(),!!0))}),r("#mainnav-toggle").each(function(){var e=r('<button id="mainnav-toggle" type="button" aria-controls="nav" aria-haspopup="true" aria-expanded="false"/>').append(this.innerHTML).click(function(){this._isExpanded=!this._isExpanded,r(this).attr("aria-expanded",this._isExpanded?"true":"false"),r("#logo")[this._isExpanded?"hide":"show"]()});r(this).replaceWith(e),$backdrop=r('<div id="menu-backdrop" aria-hidden="true"/>').click(function(){e.trigger("click")}),r("#nav").after($backdrop)});var y=document.getElementById("search-toggle");y._expanded=!1,y._toggleSearch=function(e){this._expanded=e,s.toggleClass("search-toggled",this._expanded),this.setAttribute("aria-expanded",this._expanded?"true":"false"),r("#headsearchinput")[this._expanded?"focus":"blur"]()},r(y).bind("click",function(e){e.preventDefault(),this._toggleSearch(!this._expanded)});var w=r(".nav > .has-sub > a + .nav-flyout"),x=function(){var n=this||null;r(".nav > .has-sub > [type=button]").each(function(e,t){t._isExpanded=n===t&&!t._isExpanded,r(t).attr("aria-expanded",t._isExpanded?"true":"false")})};w.each(function(e,t){var n="_"+Math.random().toString(36).substr(2,9);t.$_link=r(t.previousSibling),t.$_button=r('<button type="button" aria-controls="'+n+'" aria-haspopup="true" aria-expanded="false" aria-hidden="true"/>').text(t.$_link.text()).click(x),r(t).before(t.$_button).attr("id",n)});var C=r("#hero .hero-navigation").clone().attr("aria-label","Quicklink Navigation");r('<div class="cloned-hero-nav"></div>').append(C).prependTo("#footer");var k=r(".sidebar-subnav");(k=k.length?k[0]:null)&&(k._origParentNode=k.parentNode);var T=r("ul.meta-nav"),I=T.length?T.parent():null;var $=null,_=function(){var e,t,n,o=window.innerWidth<768;if(o!==$){if($=o,l&&c)if(o){if(!s.hasClass("visiblelogo")){s.addClass("visiblelogo");var i=s.hasClass("nologo")?"":r(".branding p.sitetitle img").attr("alt");r(".branding p.sitetitle img").after('<span class="visiblelogo">'+i+"</span>")}}else s.hasClass("visiblelogo")&&(s.removeClass("visiblelogo"),r(".visiblelogo").remove());s[$?"removeClass":"addClass"]("responsive-large")[$?"addClass":"removeClass"]("ismobile"),n=a||$,w.each(function(e,t){t.$_link[n?"hide":"show"]().attr("aria-hidden",n?"true":"false"),t.$_button[n?"show":"hide"]().attr("aria-hidden",n?"false":"true")}),x(),t=!$,k&&(t?k._origParentNode.insertBefore(k,k._origParentNode.firstChild):document.getElementById("nav").appendChild(k)),e=!$,T.length&&(e?(r(".meta-links").append(T.attr({role:null,"aria-label":null})),I.append(T)):r("#nav").append(T.attr({role:"navigation","aria-label":"Portal links"})))}};r(window).on("resize",_),_(),r(".sorttable").tablesorter()}),window.console&&console.log||function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,o=window.console={};n--;)o[t[n]]=e}(),function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}function log(e){"undefined"!=typeof console&&void 0!==console.debug?console.log(e):alert(e)}function buildParserCache(e,t){if(e.config.debug)var n="";if(0!=e.tBodies.length){var o=e.tBodies[0].rows;if(o[0])for(var i=[],a=o[0].cells.length,r=0;r<a;r++){var s=!1;$.metadata&&$(t[r]).metadata()&&$(t[r]).metadata().sorter?s=getParserById($(t[r]).metadata().sorter):e.config.headers[r]&&e.config.headers[r].sorter&&(s=getParserById(e.config.headers[r].sorter)),s||(s=detectParserForColumn(e,o,-1,r)),e.config.debug&&(n+="column:"+r+" parser:"+s.id+"\n"),i.push(s)}return e.config.debug&&log(n),i}}function detectParserForColumn(e,t,n,o){for(var i=parsers.length,a=!1,r=!1,s=!0;""==r&&s;)t[++n]?(a=getNodeFromRowAndCellIndex(t,n,o),r=trimAndGetNodeText(e.config,a),e.config.debug&&log("Checking if value was empty on row:"+n)):s=!1;for(var l=1;l<i;l++)if(parsers[l].is(r,e,a))return parsers[l];return parsers[0]}function getNodeFromRowAndCellIndex(e,t,n){return e[t].cells[n]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){for(var t=parsers.length,n=0;n<t;n++)if(parsers[n].id.toLowerCase()==e.toLowerCase())return parsers[n];return!1}function buildCache(e){if(e.config.debug)var t=new Date;for(var n=e.tBodies[0]&&e.tBodies[0].rows.length||0,o=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,i=e.config.parsers,a={row:[],normalized:[]},r=0;r<n;++r){var s=$(e.tBodies[0].rows[r]),l=[];if(s.hasClass(e.config.cssChildRow))a.row[a.row.length-1]=a.row[a.row.length-1].add(s);else{a.row.push(s);for(var c=0;c<o;++c)l.push(i[c].format(getElementText(e.config,s[0].cells[c]),e,s[0].cells[c]));l.push(a.normalized.length),a.normalized.push(l),l=null}}return e.config.debug&&benchmark("Building cache for "+n+" rows:",t),a}function getElementText(e,t){return t?(e.supportsTextContent||(e.supportsTextContent=t.textContent||!1),"simple"==e.textExtraction?e.supportsTextContent?t.textContent:t.childNodes[0]&&t.childNodes[0].hasChildNodes()?t.childNodes[0].innerHTML:t.innerHTML:"function"==typeof e.textExtraction?e.textExtraction(t):$(t).text()):""}function appendToTable(e,t){if(e.config.debug)var n=new Date;for(var o=t,i=o.row,a=o.normalized,r=a.length,s=a[0].length-1,l=$(e.tBodies[0]),c=[],d=0;d<r;d++){var p=a[d][s];if(c.push(i[p]),!e.config.appender)for(var u=i[p].length,h=0;h<u;h++)l[0].appendChild(i[p][h])}e.config.appender&&e.config.appender(e,c),c=null,e.config.debug&&benchmark("Rebuilt table:",n),applyWidget(e),setTimeout(function(){$(e).trigger("sortEnd")},0)}function buildHeaders(n){if(n.config.debug)var e=new Date;$.metadata;var o=computeTableHeaderCellIndexes(n);return $tableHeaders=$(n.config.selectorHeaders,n).each(function(e){if(this.column=o[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(n.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(n,e))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(n,e)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(n,e)),!this.sortDisabled){var t=$(this).addClass(n.config.cssHeader);n.config.onRenderHeader&&n.config.onRenderHeader.apply(t)}n.config.headerList[e]=this}),n.config.debug&&(benchmark("Built headers:",e),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(e){for(var t=[],n={},o=e.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),i=0;i<o.length;i++)for(var a=o[i].cells,r=0;r<a.length;r++){var s,l=a[r],c=l.parentNode.rowIndex,d=c+"-"+l.cellIndex,p=l.rowSpan||1,u=l.colSpan||1;void 0===t[c]&&(t[c]=[]);for(var h=0;h<t[c].length+1;h++)if(void 0===t[c][h]){s=h;break}n[d]=s;for(h=c;h<c+p;h++){void 0===t[h]&&(t[h]=[]);for(var f=t[h],g=s;g<s+u;g++)f[g]="x"}}return n}function checkCellColSpan(e,t,n){for(var o=[],i=e.tHead.rows,a=i[n].cells,r=0;r<a.length;r++){var s=a[r];1<s.colSpan?o=o.concat(checkCellColSpan(e,headerArr,n++)):(1==e.tHead.length||1<s.rowSpan||!i[n+1])&&o.push(s)}return o}function checkHeaderMetadata(e){return!(!$.metadata||!1!==$(e).metadata().sorter)}function checkHeaderOptions(e,t){return!(!e.config.headers[t]||!1!==e.config.headers[t].sorter)}function checkHeaderOptionsSortingLocked(e,t){return!(!e.config.headers[t]||!e.config.headers[t].lockedOrder)&&e.config.headers[t].lockedOrder}function applyWidget(e){for(var t=e.config.widgets,n=t.length,o=0;o<n;o++)getWidgetById(t[o]).format(e)}function getWidgetById(e){for(var t=widgets.length,n=0;n<t;n++)if(widgets[n].id.toLowerCase()==e.toLowerCase())return widgets[n]}function formatSortingOrder(e){return"Number"!=typeof e?"desc"==e.toLowerCase()?1:0:1==e?1:0}function isValueInArray(e,t){for(var n=t.length,o=0;o<n;o++)if(t[o][0]==e)return!0;return!1}function setHeadersCss(e,t,n,o){t.removeClass(o[0]).removeClass(o[1]);var i=[];t.each(function(e){this.sortDisabled||(i[this.column]=$(this))});for(var a=n.length,r=0;r<a;r++)i[n[r][0]].addClass(o[n[r][1]])}function fixColumnWidth(e,t){if(e.config.widthFixed){var n=$("<colgroup>");$("tr:first td",e.tBodies[0]).each(function(){n.append($("<col>").css("width",$(this).width()))}),$(e).prepend(n)}}function updateHeaderSortCount(e,t){for(var n=e.config,o=t.length,i=0;i<o;i++){var a=t[i],r=n.headerList[a[0]];r.count=a[1],r.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?makeSortFunction("text",0==order?"asc":"desc",c):makeSortFunction("numeric",0==order?"asc":"desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(e,t,n){var o="a["+n+"]",i="b["+n+"]";return"text"==e&&"asc"==t?"("+o+" == "+i+" ? 0 : ("+o+" === null ? Number.POSITIVE_INFINITY : ("+i+" === null ? Number.NEGATIVE_INFINITY : ("+o+" < "+i+") ? -1 : 1 )));":"text"==e&&"desc"==t?"("+o+" == "+i+" ? 0 : ("+o+" === null ? Number.POSITIVE_INFINITY : ("+i+" === null ? Number.NEGATIVE_INFINITY : ("+i+" < "+o+") ? -1 : 1 )));":"numeric"==e&&"asc"==t?"("+o+" === null && "+i+" === null) ? 0 :("+o+" === null ? Number.POSITIVE_INFINITY : ("+i+" === null ? Number.NEGATIVE_INFINITY : "+o+" - "+i+"));":"numeric"==e&&"desc"==t?"("+o+" === null && "+i+" === null) ? 0 :("+o+" === null ? Number.POSITIVE_INFINITY : ("+i+" === null ? Number.NEGATIVE_INFINITY : "+i+" - "+o+"));":void 0}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){return table.config.sortLocaleCompare?e.localeCompare(t):e<t?-1:t<e?1:0}function sortTextDesc(e,t){return table.config.sortLocaleCompare?t.localeCompare(e):t<e?-1:e<t?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(e){return this.each(function(){if(this.tHead&&this.tBodies){var s,l,c,d;this.config={},d=$.extend(this.config,$.tablesorter.defaults,e),s=$(this),$.data(this,"tablesorter",d),l=buildHeaders(this),this.config.parsers=buildParserCache(this,l),c=buildCache(this);var p=[d.cssDesc,d.cssAsc];fixColumnWidth(this),l.click(function(e){var t=s[0].tBodies[0]&&s[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&0<t){s.trigger("sortStart");$(this);var n=this.column;if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),e[d.sortMultiSortKey])if(isValueInArray(n,d.sortList))for(r=0;r<d.sortList.length;r++){var o=d.sortList[r],i=d.headerList[o[0]];o[0]==n&&(i.count=o[1],i.count++,o[1]=i.count%2)}else d.sortList.push([n,this.order]);else{if(d.sortList=[],null!=d.sortForce)for(var a=d.sortForce,r=0;r<a.length;r++)a[r][0]!=n&&d.sortList.push(a[r]);d.sortList.push([n,this.order])}return setTimeout(function(){setHeadersCss(s[0],l,d.sortList,p),appendToTable(s[0],multisort(s[0],d.sortList,c))},1),!1}}).mousedown(function(){if(d.cancelSelection)return!(this.onselectstart=function(){return!1})}),s.bind("update",function(){var e=this;setTimeout(function(){e.config.parsers=buildParserCache(e,l),c=buildCache(e)},1)}).bind("updateCell",function(e,t){var n=this.config,o=[t.parentNode.rowIndex-1,t.cellIndex];c.normalized[o[0]][o[1]]=n.parsers[o[1]].format(getElementText(n,t),t)}).bind("sorton",function(e,t){$(this).trigger("sortStart"),d.sortList=t;var n=d.sortList;updateHeaderSortCount(this,n),setHeadersCss(this,l,n,p),appendToTable(this,multisort(this,n,c))}).bind("appendCache",function(){appendToTable(this,c)}).bind("applyWidgetId",function(e,t){getWidgetById(t).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(d.sortList=$(this).metadata().sortlist),0<d.sortList.length&&s.trigger("sorton",[d.sortList]),applyWidget(this)}})},this.addParser=function(e){for(var t=parsers.length,n=!0,o=0;o<t;o++)parsers[o].id.toLowerCase()==e.id.toLowerCase()&&(n=!1);n&&parsers.push(e)},this.addWidget=function(e){widgets.push(e)},this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t},this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t},this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))},this.clearTableBody=function(e){if($.browser.msie){(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(e.tBodies[0])}else e.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return!0},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(e,t){var n=t.config;return $.tablesorter.isDigit(e,n)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"}),ts.addParser({id:"currency",is:function(e){return/^[£$€?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){for(var t=e.split("."),n="",o=t.length,i=0;i<o;i++){var a=t[i];2==a.length?n+="0"+a:n+=a}return $.tablesorter.formatFloat(n)},type:"numeric"}),ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(""!=e?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var n=t.config;return e=e.replace(/\-/g,"/"),"us"==n.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==n.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=n.dateFormat&&"dd-mm-yy"!=n.dateFormat||(e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(e){return!1},format:function(e,t,n){var o=t.config,i=o.parserMetadataName?o.parserMetadataName:"sortValue";return $(n).metadata()[i]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(t){if(t.config.debug)var e=new Date;var n,o,i=-1;$("tr:visible",t.tBodies[0]).each(function(e){(n=$(this)).hasClass(t.config.cssChildRow)||i++,o=i%2==0,n.removeClass(t.config.widgetZebra.css[o?0:1]).addClass(t.config.widgetZebra.css[o?1:0])}),t.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),function(p){p.fn.hoverIntent=function(e,t,n){var o,i,a,r,s={interval:100,sensitivity:6,timeout:0};s="object"==typeof e?p.extend(s,e):p.isFunction(t)?p.extend(s,{over:e,out:t,selector:n}):p.extend(s,{over:e,out:e,selector:t});var l=function(e){o=e.pageX,i=e.pageY},c=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((a-o)*(a-o)+(r-i)*(r-i))<s.sensitivity)return p(t).off("mousemove.hoverIntent",l),t.hoverIntent_s=!0,s.over.apply(t,[e]);a=o,r=i,t.hoverIntent_t=setTimeout(function(){c(e,t)},s.interval)},d=function(e){var n=p.extend({},e),o=this;o.hoverIntent_t&&(o.hoverIntent_t=clearTimeout(o.hoverIntent_t)),"mouseenter"===e.type?(a=n.pageX,r=n.pageY,p(o).on("mousemove.hoverIntent",l),o.hoverIntent_s||(o.hoverIntent_t=setTimeout(function(){c(n,o)},s.interval))):(p(o).off("mousemove.hoverIntent",l),o.hoverIntent_s&&(o.hoverIntent_t=setTimeout(function(){var e,t;e=n,(t=o).hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,s.out.apply(t,[e])},s.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},s.selector)}}(jQuery),function(o,n,$,d){var i=$("html"),a=$(o),c=$(n),_=$.fancybox=function(){_.open.apply(this,arguments)},r=navigator.userAgent.match(/msie/i),s=null,l=n.createTouch!==d,p=function(e){return e&&e.hasOwnProperty&&e instanceof $},u=function(e){return e&&"string"===$.type(e)},E=function(e){return u(e)&&0<e.indexOf("%")},S=function(e,t){var n=parseInt(e,10)||0;return t&&E(e)&&(n*=_.getViewport()[t]/100),Math.ceil(n)},L=function(e,t){return S(e,t)+"px"};$.extend(_,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(r?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(l,c){if(l&&($.isPlainObject(c)||(c={}),!1!==_.close(!0)))return $.isArray(l)||(l=p(l)?$(l).get():[l]),$.each(l,function(e,t){var n,o,i,a,r,s={};"object"===$.type(t)&&(t.nodeType&&(t=$(t)),p(t)?(s={href:t.data("fancybox-href")||t.attr("href"),title:t.data("fancybox-title")||t.attr("title"),isDom:!0,element:t},$.metadata&&$.extend(!0,s,t.metadata())):s=t),n=c.href||s.href||(u(t)?t:null),o=c.title!==d?c.title:s.title||"",!(a=(i=c.content||s.content)?"html":c.type||s.type)&&s.isDom&&((a=t.data("fancybox-type"))||(a=(a=t.prop("class").match(/fancybox\.(\w+)/))?a[1]:null)),u(n)&&(a||(_.isImage(n)?a="image":_.isSWF(n)?a="swf":"#"===n.charAt(0)?a="inline":u(t)&&(a="html",i=t)),"ajax"===a&&(n=(r=n.split(/\s+/,2)).shift(),r=r.shift())),i||("inline"===a?n?i=$(u(n)?n.replace(/.*(?=#[^\s]+$)/,""):n):s.isDom&&(i=t):"html"===a?i=n:!a&&!n&&s.isDom&&(a="inline",i=t)),$.extend(s,{href:n,type:a,content:i,title:o,selector:r}),l[e]=s}),_.opts=$.extend(!0,{},_.defaults,c),c.keys!==d&&(_.opts.keys=!!c.keys&&$.extend({},_.defaults.keys,c.keys)),_.group=l,_._start(_.opts.index)},cancel:function(){var e=_.coming;e&&!1!==_.trigger("onCancel")&&(_.hideLoading(),_.ajaxLoad&&_.ajaxLoad.abort(),_.ajaxLoad=null,_.imgPreload&&(_.imgPreload.onload=_.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),_.coming=null,_.current||_._afterZoomOut(e))},close:function(e){_.cancel(),!1!==_.trigger("beforeClose")&&(_.unbindEvents(),_.isActive&&(_.isOpen&&!0!==e?(_.isOpen=_.isOpened=!1,_.isClosing=!0,$(".fancybox-item, .fancybox-nav").remove(),_.wrap.stop(!0,!0).removeClass("fancybox-opened"),_.transitions[_.current.closeMethod]()):($(".fancybox-wrap").stop(!0).trigger("onReset").remove(),_._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(_.player.timer)},n=function(){t(),_.current&&_.player.isActive&&(_.player.timer=setTimeout(_.next,_.current.playSpeed))},o=function(){t(),c.unbind(".player"),_.player.isActive=!1,_.trigger("onPlayEnd")};!0===e||!_.player.isActive&&!1!==e?_.current&&(_.current.loop||_.current.index<_.group.length-1)&&(_.player.isActive=!0,c.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":n,"beforeLoad.player":t}),n(),_.trigger("onPlayStart")):o()},next:function(e){var t=_.current;t&&(u(e)||(e=t.direction.next),_.jumpto(t.index+1,e,"next"))},prev:function(e){var t=_.current;t&&(u(e)||(e=t.direction.prev),_.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var o=_.current;o&&(e=S(e),_.direction=t||o.direction[e>=o.index?"next":"prev"],_.router=n||"jumpto",o.loop&&(e<0&&(e=o.group.length+e%o.group.length),e%=o.group.length),o.group[e]!==d&&(_.cancel(),_._start(e)))},reposition:function(e,t){var n,o=_.current,i=o?o.wrap:null;i&&(n=_._getPosition(t),e&&"scroll"===e.type?(delete n.position,i.stop(!0,!0).animate(n,200)):(i.css(n),o.pos=$.extend({},o.dim,n)))},update:function(t){var n=t&&t.type,o=!n||"orientationchange"===n;o&&(clearTimeout(s),s=null),_.isOpen&&!s&&(s=setTimeout(function(){var e=_.current;e&&!_.isClosing&&(_.wrap.removeClass("fancybox-tmp"),(o||"load"===n||"resize"===n&&e.autoResize)&&_._setDimension(),"scroll"===n&&e.canShrink||_.reposition(t),_.trigger("onUpdate"),s=null)},o&&!l?0:300))},toggle:function(e){_.isOpen&&(_.current.fitToView="boolean"===$.type(e)?e:!_.current.fitToView,l&&(_.wrap.removeAttr("style").addClass("fancybox-tmp"),_.trigger("onUpdate")),_.update())},hideLoading:function(){c.unbind(".loading"),$("#fancybox-loading").remove()},showLoading:function(){var e,t;_.hideLoading(),e=$('<div id="fancybox-loading"><div></div></div>').click(_.cancel).appendTo("body"),c.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),_.cancel())}),_.defaults.fixed||(t=_.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var e=_.current&&_.current.locked||!1,t={x:a.scrollLeft(),y:a.scrollTop()};return t.h=e?(t.w=e[0].clientWidth,e[0].clientHeight):(t.w=l&&o.innerWidth?o.innerWidth:a.width(),l&&o.innerHeight?o.innerHeight:a.height()),t},unbindEvents:function(){_.wrap&&p(_.wrap)&&_.wrap.unbind(".fb"),c.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var t,r=_.current;r&&(a.bind("orientationchange.fb"+(l?"":" resize.fb")+(r.autoCenter&&!r.locked?" scroll.fb":""),_.update),(t=r.keys)&&c.bind("keydown.fb",function(n){var o=n.which||n.keyCode,e=n.target||n.srcElement;if(27===o&&_.coming)return!1;!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!n.metaKey&&(!e||!e.type&&!$(e).is("[contenteditable]"))&&$.each(t,function(e,t){return 1<r.group.length&&t[o]!==d?(_[e](t[o]),n.preventDefault(),!1):-1<$.inArray(o,t)?(_[e](),n.preventDefault(),!1):void 0})}),$.fn.mousewheel&&r.mouseWheel&&_.wrap.bind("mousewheel.fb",function(e,t,n,o){for(var i=$(e.target||null),a=!1;i.length&&!a&&!i.is(".fancybox-skin")&&!i.is(".fancybox-wrap");)a=i[0]&&!(i[0].style.overflow&&"hidden"===i[0].style.overflow)&&(i[0].clientWidth&&i[0].scrollWidth>i[0].clientWidth||i[0].clientHeight&&i[0].scrollHeight>i[0].clientHeight),i=$(i).parent();0!==t&&!a&&1<_.group.length&&!r.canShrink&&(0<o||0<n?_.prev(0<o?"down":"left"):(o<0||n<0)&&_.next(o<0?"up":"right"),e.preventDefault())}))},trigger:function(n,e){var t,o=e||_.coming||_.current;if(o){if($.isFunction(o[n])&&(t=o[n].apply(o,Array.prototype.slice.call(arguments,1))),!1===t)return!1;o.helpers&&$.each(o.helpers,function(e,t){t&&_.helpers[e]&&$.isFunction(_.helpers[e][n])&&_.helpers[e][n]($.extend(!0,{},_.helpers[e].defaults,t),o)}),c.trigger(n)}},isImage:function(e){return u(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,o={};if(e=S(e),!(t=_.group[e]||null))return!1;if(t=(o=$.extend(!0,{},_.opts,t)).margin,n=o.padding,"number"===$.type(t)&&(o.margin=[t,t,t,t]),"number"===$.type(n)&&(o.padding=[n,n,n,n]),o.modal&&$.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=_.group,o.index=e,_.coming=o,!1===_.trigger("beforeLoad"))_.coming=null;else{if(n=o.type,t=o.href,!n)return _.coming=null,!(!_.current||!_.router||"jumpto"===_.router)&&(_.current.index=e,_[_.router](_.direction));if(_.isActive=!0,"image"!==n&&"swf"!==n||(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===n&&(o.aspectRatio=!0),"iframe"===n&&l&&(o.scrolling="scroll"),o.wrap=$(o.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),$.extend(o,{skin:$(".fancybox-skin",o.wrap),outer:$(".fancybox-outer",o.wrap),inner:$(".fancybox-inner",o.wrap)}),$.each(["Top","Right","Bottom","Left"],function(e,t){o.skin.css("padding"+t,L(o.padding[e]))}),_.trigger("onReady"),"inline"===n||"html"===n){if(!o.content||!o.content.length)return _._error("content")}else if(!t)return _._error("href");"image"===n?_._loadImage():"ajax"===n?_._loadAjax():"iframe"===n?_._loadIframe():_._afterLoad()}},_error:function(e){$.extend(_.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:_.coming.tpl.error}),_._afterLoad()},_loadImage:function(){var e=_.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,_.coming.width=this.width/_.opts.pixelRatio,_.coming.height=this.height/_.opts.pixelRatio,_._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,_._error("image")},e.src=_.coming.href,!0!==e.complete&&_.showLoading()},_loadAjax:function(){var n=_.coming;_.showLoading(),_.ajaxLoad=$.ajax($.extend({},n.ajax,{url:n.href,error:function(e,t){_.coming&&"abort"!==t?_._error("ajax",e):_.hideLoading()},success:function(e,t){"success"===t&&(n.content=e,_._afterLoad())}}))},_loadIframe:function(){var e=_.coming,t=$(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":e.iframe.scrolling).attr("src",e.href);$(e.wrap).bind("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(_.showLoading(),t.one("load",function(){$(this).data("ready",1),l||$(this).bind("load.fb",_.update),$(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),_._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||_._afterLoad()},_preloadImages:function(){var e,t,n=_.group,o=_.current,i=n.length,a=o.preload?Math.min(o.preload,i-1):0;for(t=1;t<=a;t+=1)"image"===(e=n[(o.index+t)%i]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var n,e,t,o,i,a=_.coming,r=_.current;if(_.hideLoading(),a&&!1!==_.isActive)if(!1===_.trigger("afterLoad",a,r))a.wrap.stop(!0).trigger("onReset").remove(),_.coming=null;else{switch(r&&(_.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),_.unbindEvents(),n=a.content,e=a.type,t=a.scrolling,$.extend(_,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:r}),o=a.href,e){case"inline":case"ajax":case"html":a.selector?n=$("<div>").html(n).find(a.selector):p(n)&&(n.data("fancybox-placeholder")||n.data("fancybox-placeholder",$('<div class="fancybox-placeholder"></div>').insertAfter(n).hide()),n=n.show().detach(),a.wrap.bind("onReset",function(){$(this).find(n).length&&n.hide().replaceAll(n.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":n=a.tpl.image.replace("{href}",o);break;case"swf":n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',i="",$.each(a.swf,function(e,t){n+='<param name="'+e+'" value="'+t+'"></param>',i+=" "+e+'="'+t+'"'}),n+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+i+"></embed></object>"}(!p(n)||!n.parent().is(a.inner))&&a.inner.append(n),_.trigger("beforeShow"),a.inner.css("overflow","yes"===t?"scroll":"no"===t?"hidden":t),_._setDimension(),_.reposition(),_.isOpen=!1,_.coming=null,_.bindEvents(),_.isOpened?r.prevMethod&&_.transitions[r.prevMethod]():$(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(),_.transitions[_.isOpened?a.nextMethod:a.openMethod](),_._preloadImages()}},_setDimension:function(){var e,t,n,o,i,a,r,s,l,c=_.getViewport(),d=0,p=!1,u=!1,h=(p=_.wrap,_.skin),f=_.inner,g=_.current,m=(u=g.width,g.height),v=g.minWidth,b=g.minHeight,y=g.maxWidth,w=g.maxHeight,x=g.scrolling,C=g.scrollOutside?g.scrollbarWidth:0,k=g.margin,T=S(k[1]+k[3]),I=S(k[0]+k[2]);if(p.add(h).add(f).width("auto").height("auto").removeClass("fancybox-tmp"),t=T+(k=S(h.outerWidth(!0)-h.width())),n=I+(e=S(h.outerHeight(!0)-h.height())),o=E(u)?(c.w-t)*S(u)/100:u,i=E(m)?(c.h-n)*S(m)/100:m,"iframe"===g.type){if(l=g.content,g.autoHeight&&1===l.data("ready"))try{l[0].contentWindow.document.location&&(f.width(o).height(9999),a=l.contents().find("body"),C&&a.css("overflow-x","hidden"),i=a.outerHeight(!0))}catch(e){}}else(g.autoWidth||g.autoHeight)&&(f.addClass("fancybox-tmp"),g.autoWidth||f.width(o),g.autoHeight||f.height(i),g.autoWidth&&(o=f.width()),g.autoHeight&&(i=f.height()),f.removeClass("fancybox-tmp"));if(u=S(o),m=S(i),s=o/i,v=S(E(v)?S(v,"w")-t:v),y=S(E(y)?S(y,"w")-t:y),b=S(E(b)?S(b,"h")-n:b),a=y,r=w=S(E(w)?S(w,"h")-n:w),g.fitToView&&(y=Math.min(c.w-t,y),w=Math.min(c.h-n,w)),t=c.w-T,I=c.h-I,g.aspectRatio?(y<u&&(m=S((u=y)/s)),w<m&&(u=S((m=w)*s)),u<v&&(m=S((u=v)/s)),m<b&&(u=S((m=b)*s))):(u=Math.max(v,Math.min(u,y)),g.autoHeight&&"iframe"!==g.type&&(f.width(u),m=f.height()),m=Math.max(b,Math.min(m,w))),g.fitToView)if(f.width(u).height(m),p.width(u+k),c=p.width(),T=p.height(),g.aspectRatio)for(;(t<c||I<T)&&v<u&&b<m&&!(19<d++);)m=Math.max(b,Math.min(w,m-10)),(u=S(m*s))<v&&(m=S((u=v)/s)),y<u&&(m=S((u=y)/s)),f.width(u).height(m),p.width(u+k),c=p.width(),T=p.height();else u=Math.max(v,Math.min(u,u-(c-t))),m=Math.max(b,Math.min(m,m-(T-I)));C&&"auto"===x&&m<i&&u+k+C<t&&(u+=C),f.width(u).height(m),p.width(u+k),c=p.width(),T=p.height(),p=(t<c||I<T)&&v<u&&b<m,u=g.aspectRatio?u<a&&m<r&&u<o&&m<i:(u<a||m<r)&&(u<o||m<i),$.extend(g,{dim:{width:L(c),height:L(T)},origWidth:o,origHeight:i,canShrink:p,canExpand:u,wPadding:k,hPadding:e,wrapSpace:T-h.outerHeight(!0),skinSpace:h.height()-m}),!l&&g.autoHeight&&b<m&&m<w&&!u&&f.height("auto")},_getPosition:function(e){var t=_.current,n=_.getViewport(),o=t.margin,i=_.wrap.width()+o[1]+o[3],a=_.wrap.height()+o[0]+o[2];o={position:"absolute",top:o[0],left:o[3]};return t.autoCenter&&t.fixed&&!e&&a<=n.h&&i<=n.w?o.position="fixed":t.locked||(o.top+=n.y,o.left+=n.x),o.top=L(Math.max(o.top,o.top+(n.h-a)*t.topRatio)),o.left=L(Math.max(o.left,o.left+(n.w-i)*t.leftRatio)),o},_afterZoomIn:function(){var t=_.current;t&&(_.isOpen=_.isOpened=!0,_.wrap.css("overflow","visible").addClass("fancybox-opened"),_.update(),(t.closeClick||t.nextClick&&1<_.group.length)&&_.inner.css("cursor","pointer").bind("click.fb",function(e){!$(e.target).is("a")&&!$(e.target).parent().is("a")&&(e.preventDefault(),_[t.closeClick?"close":"next"]())}),t.closeBtn&&$(t.tpl.closeBtn).appendTo(_.skin).bind("click.fb",function(e){e.preventDefault(),_.close()}),t.arrows&&1<_.group.length&&((t.loop||0<t.index)&&$(t.tpl.prev).appendTo(_.outer).bind("click.fb",_.prev),(t.loop||t.index<_.group.length-1)&&$(t.tpl.next).appendTo(_.outer).bind("click.fb",_.next)),_.trigger("afterShow"),t.loop||t.index!==t.group.length-1?_.opts.autoPlay&&!_.player.isActive&&(_.opts.autoPlay=!1,_.play()):_.play(!1))},_afterZoomOut:function(e){e=e||_.current,$(".fancybox-wrap").trigger("onReset").remove(),$.extend(_,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),_.trigger("afterClose",e)}}),_.transitions={getOrigPosition:function(){var e=_.current,t=e.element,n=e.orig,o={},i=50,a=50,r=e.hPadding,s=e.wPadding,l=_.getViewport();return!n&&e.isDom&&t.is(":visible")&&((n=t.find("img:first")).length||(n=t)),p(n)?(o=n.offset(),n.is("img")&&(i=n.outerWidth(),a=n.outerHeight())):(o.top=l.y+(l.h-a)*e.topRatio,o.left=l.x+(l.w-i)*e.leftRatio),("fixed"===_.wrap.css("position")||e.locked)&&(o.top-=l.y,o.left-=l.x),{top:L(o.top-r*e.topRatio),left:L(o.left-s*e.leftRatio),width:L(i+s),height:L(a+r)}},step:function(e,t){var n,o,i=t.prop,a=(o=_.current).wrapSpace,r=o.skinSpace;"width"!==i&&"height"!==i||(n=t.end===t.start?1:(e-t.start)/(t.end-t.start),_.isClosing&&(n=1-n),o=e-(o="width"===i?o.wPadding:o.hPadding),_.skin[i](S("width"===i?o:o-a*n)),_.inner[i](S("width"===i?o:o-a*n-r*n)))},zoomIn:function(){var e=_.current,t=e.pos,n=e.openEffect,o="elastic"===n,i=$.extend({opacity:1},t);delete i.position,o?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),_.wrap.css(t).animate(i,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:o?this.step:null,complete:_._afterZoomIn})},zoomOut:function(){var e=_.current,t=e.closeEffect,n="elastic"===t,o={opacity:.1};n&&(o=this.getOrigPosition(),e.closeOpacity&&(o.opacity=.1)),_.wrap.animate(o,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:_._afterZoomOut})},changeIn:function(){var e,t=_.current,n=t.nextEffect,o=t.pos,i={opacity:1},a=_.direction;o.opacity=.1,"elastic"===n&&(i[e="down"===a||"up"===a?"top":"left"]="down"===a||"right"===a?(o[e]=L(S(o[e])-200),"+=200px"):(o[e]=L(S(o[e])+200),"-=200px")),"none"===n?_._afterZoomIn():_.wrap.css(o).animate(i,{duration:t.nextSpeed,easing:t.nextEasing,complete:_._afterZoomIn})},changeOut:function(){var e=_.previous,t=e.prevEffect,n={opacity:.1},o=_.direction;"elastic"===t&&(n["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){$(this).trigger("onReset").remove()}})}},_.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!l,fixed:!0},overlay:null,fixed:!1,el:$("html"),create:function(e){e=$.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=$('<div class="fancybox-overlay"></div>').appendTo(_.coming?_.coming.parent:e.parent),this.fixed=!1,e.fixed&&_.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=$.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(a.bind("resize.overlay",$.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if($(e.target).hasClass("fancybox-overlay"))return _.isActive?_.close():t.close(),!1}),this.overlay.css(e.css).show()},close:function(){var e,t;a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&($(".fancybox-margin").removeClass("fancybox-margin"),e=a.scrollTop(),t=a.scrollLeft(),this.el.removeClass("fancybox-lock"),a.scrollTop(e).scrollLeft(t)),$(".fancybox-overlay").remove().hide(),$.extend(this,{overlay:null,fixed:!1})},update:function(){var e,t="100%";this.overlay.width(t).height("100%"),r?(e=Math.max(n.documentElement.offsetWidth,n.body.offsetWidth),c.width()>e&&(t=c.width())):c.width()>a.width()&&(t=c.width()),this.overlay.width(t).height(c.height())},onReady:function(e,t){var n=this.overlay;$(".fancybox-overlay").stop(!0,!0),n||this.create(e),e.locked&&this.fixed&&t.fixed&&(n||(this.margin=c.height()>a.height()&&$("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var n,o;t.locked&&(!1!==this.margin&&($("*").filter(function(){return"fixed"===$(this).css("position")&&!$(this).hasClass("fancybox-overlay")&&!$(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=a.scrollTop(),o=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(n).scrollLeft(o)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!_.coming&&this.overlay.fadeOut(e.speedOut,$.proxy(this.close,this))}},_.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=_.current,n=t.title,o=e.type;if($.isFunction(n)&&(n=n.call(t.element,t)),u(n)&&""!==$.trim(n)){switch(t=$('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+n+"</div>"),o){case"inside":o=_.skin;break;case"outside":o=_.wrap;break;case"over":o=_.inner;break;default:o=_.skin,t.appendTo("body"),r&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),_.current.margin[2]+=Math.abs(S(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](o)}}},$.fn.fancybox=function(a){var r,s=$(this),l=this.selector||"",e=function(e){var t,n,o=$(this).blur(),i=r;!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!o.is(".fancybox-wrap")&&(t=a.groupAttr||"data-fancybox-group",(n=o.attr(t))||(t="rel",n=o.get(0)[t]),n&&""!==n&&"nofollow"!==n&&(i=(o=(o=l.length?$(l):s).filter("["+t+'="'+n+'"]')).index(this)),a.index=i,!1!==_.open(o,a)&&e.preventDefault())};return r=(a=a||{}).index||0,l&&!1!==a.live?c.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e):s.unbind("click.fb-start").bind("click.fb-start",e),this.filter("[data-fancybox-start=1]").trigger("click"),this},c.ready(function(){var e,t;if($.scrollbarWidth===d&&($.scrollbarWidth=function(){var e=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=(t=e.children()).innerWidth()-t.height(99).innerWidth();return e.remove(),t}),$.support.fixedPosition===d){e=$.support;var n=20===(t=$('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===t[0].offsetTop;t.remove(),e.fixedPosition=n}$.extend(_.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")}),e=$(o).width(),i.addClass("fancybox-lock-test"),t=$(o).width(),i.removeClass("fancybox-lock-test"),$("<style type='text/css'>.fancybox-margin{margin-right:"+(t-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery);