jQuery(document).ready(function(r){r("html").removeClass("no-js").addClass("js"),r("body").addClass("js-enabled");var t=r("body"),e=t.hasClass("slider-fade"),o=t.hasClass("slider-autoplay"),n=(t.hasClass("slider-dots"),t.hasClass("theme-accordion"));n&&r('a[href*="#"]:not([href="#"]):not(.accordion-toggle):not(.accordion-tabs-nav-toggle)').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=r(this.hash);if((e=e.length?e:r("[name="+this.hash.slice(1)+"]")).length)return r("html,body").animate({scrollTop:e.offset().top-185},1e3),!1}});var a=!1,i=!1;o&&(i=a=!0);var s=!1;e&&(s=!0);var l='<button type="button" class="slick-next">Next</button>',c='<button type="button" class="slick-prev">Vor</button>',d="Stop Animation",p="Start Animation";if("de-DE"==r("html").attr("lang")&&(l='<button type="button" class="slick-next">Weiter</button>',c='<button type="button" class="slick-prev">Vor</button>',d="Animation stoppen",p="Animation starten"),r.fn.slick&&(r(".featured-slider").slick({dots:!1,slidesToShow:1,autoplay:a,cssEase:"ease",draggable:!0,pauseOnHover:i,pauseOnFocus:i,infinite:!0,adaptiveHeight:!0,fade:s,autoplaySpeed:7e3,nextArrow:l,prevArrow:c,appendArrows:".slider-controls"}),r(".slick-startstop").on("click",function(){r(".slick-startstop").hasClass("stopped")?(r(".featured-slider").slick("slickPlay"),r(".slick-startstop").removeClass("stopped"),r(".slick-startstop").html(d)):(r(".featured-slider").slick("slickPause"),r(".slick-startstop").addClass("stopped"),r(".slick-startstop").html(p))})),r("a.lightbox").fancybox({helpers:{title:{type:"outside"}}}),r(".assistant-tabs-nav a").bind("click",function(e){e.preventDefault();var t=r(this).attr("href");r(this).parents("ul").find("a").removeClass("active"),r(this).addClass("active"),r(this).parents(".assistant-tabs").find(".assistant-tab-pane").removeClass("assistant-tab-pane-active"),r(t).addClass("assistant-tab-pane-active")}),r(".assistant-tabs-nav a").keydown("click",function(e){if(32==e.keyCode){var t=r(this).attr("href");r(this).parents("ul").find("a").removeClass("active"),r(this).addClass("active"),r(this).parents(".assistant-tabs").find(".assistant-tab-pane").removeClass("assistant-tab-pane-active"),r(t).addClass("assistant-tab-pane-active")}}),n){r(".accordion-body").not(".accordion-body.open").not(".accordion-body.stayopen").hide(),r(".accordion-toggle").bind("click",function(e){e.preventDefault();var t=r(this).attr("href");r(this).closest(".accordion").find(".accordion-toggle").not(r(this)).removeClass("active"),r(this).closest(".accordion").find(".accordion-body").not(t).not(".accordion-body.stayopen").slideUp(),r(this).toggleClass("active"),r(t).slideToggle()}),r(".accordion-toggle").keydown(function(e){if(32==e.keyCode){var t=r(this).attr("href");r(this).closest(".accordion").find(".accordion-toggle").not(r(this)).removeClass("active"),r(this).closest(".accordion").find(".accordion-body").not(t).not(".accordion-body.stayopen").slideUp(),r(this).toggleClass("active"),r(t).slideToggle()}}),function(){if(window.location.hash){window.location.hash;var e=window.location.hash.split("_")[0],t=window.location.hash.split("_")[1];if("#collapse"==e){if(r.isNumeric(t)){var o="collapse_"+t;(a=r("body").find("#"+o)).closest(".accordion").parent().closest(".accordion-group")&&($upper=a.closest(".accordion").parent().closest(".accordion-group"),$upper.find(".accordion-toggle").addClass("active"),$upper.find(".accordion-body").show(),$upper.find(".accordion-toggle").children().find(".accordion-toggle").removeClass("active"),$upper.find(".accordion-body").children().find(".accordion-body").hide()),a.find(".accordion-toggle").addClass("active"),a.show();var n=a.offset().top-220;r("html,body").animate({scrollTop:n},"slow")}}else{e=window.location.hash.split("#")[1];var a,i=encodeURIComponent(e);(a=r('a[name="'+i+'"]')).closest(".accordion").parent().closest(".accordion-group")&&($upper=a.closest(".accordion-group"),$upper.find(".accordion-toggle").addClass("active"),$upper.find(".accordion-body").show(),$upper.find(".accordion-toggle").children().find(".accordion-toggle").removeClass("active"),$upper.find(".accordion-body").children().find(".accordion-body").hide(),a.addClass("active"),a.show(),n=a.offset().top-220,r("html,body").animate({scrollTop:n},"slow"))}}}()}window.screen.width<window.outerWidth?window.screen.width:window.outerWidth,"ontouchstart"in window||navigator.msMaxTouchPoints;function u(){20<r(window).scrollTop()?r("body").hasClass("nav-scrolled")||r("body").addClass("nav-scrolled"):r("body").hasClass("nav-scrolled")&&r("body").removeClass("nav-scrolled"),200<r(window).scrollTop()?r("body").hasClass("toplink-faded")||(r(".top-link").fadeIn(),r("body").addClass("toplink-faded")):r("body").hasClass("toplink-faded")&&(r(".top-link").fadeOut(),r("body").removeClass("toplink-faded"))}function f(){var t=0;r(".image-gallery-grid li").each(function(){var e=r(this).find(".caption").innerHeight();t<120+e&&(t=120+e)}),r(".image-gallery-grid li").css({height:t+"px"})}r("#content table").wrap('<div class="table-wrapper" />').wrap('<div class="scrollable" />'),u(),r(window).scroll(function(){u()}),f(),r(window).resize(function(){f()}),r(".organigram .has-sub").each(function(){r(this).prepend('<span class="toggle-icon"></span>'),r(this).children("ul").hide()}),r(".organigram .has-sub .toggle-icon").bind("click",function(e){e.preventDefault(),r(this).closest(".has-sub").toggleClass("active"),r(this).closest(".has-sub").children("ul").slideToggle()}),r("#nav > li > a").on("touchstart ontouchstart",function(e){return!r(this).parent().hasClass("has-sub")||(r(this).hasClass("clicked-once")?!!1:(r("#nav > li > a").removeClass("clicked-once"),r("#nav > li").removeClass("focus"),r(this).addClass("clicked-once"),r(this).parent("li").addClass("focus"),e.preventDefault(),!!0))});var h=r('<div id="off-canvas" role="navigation" aria-label="Hamburger Navigation" aria-controls="nav-off-canvas">'),g=r("#nav").clone();g.attr("id","nav-off-canvas");var m=r('<a id="off-canvas-close" href="#"><span>Menü schließen</span> <em class="fa fa-times"></em></a>');"de-DE"!==r("html").attr("lang")&&r("span",m).text("Close menu"),m.appendTo(h),g.appendTo(h),h.appendTo("body"),r('<div id="off-canvas-overlay">').appendTo("body"),g.on("click",".menu-item.level1",function(e){r(e.target).parent().hasClass("level1")&&r(e.target).parent().hasClass("menu-item-has-children")&&(e.preventDefault(),r(this).hasClass("focus")||r("#off-canvas .menu-item.level1").removeClass("focus"),r(this).toggleClass("focus"))}),r("#mainnav-toggle").bind("click",function(e){e.preventDefault(),r("body").toggleClass("menu-toggled"),r("#mainnav-toggle").attr("aria-expanded","true")});var v=!1;document.getElementById("search-toggle")._toggleSearch=function(e){v=e,t.toggleClass("search-toggled",v),this.setAttribute("aria-expanded",v?"true":"false"),r("#headsearchinput")[v?"focus":"blur"]()},r("#search-toggle").bind("click",function(e){e.preventDefault(),this._toggleSearch(!v)}),r("#off-canvas-overlay, #off-canvas-close").on("click",function(e){e.preventDefault(),r("body").removeClass("menu-toggled"),r("#mainnav-toggle").attr("aria-expanded","false")}),r("body").addClass("responsive-large");var b=r("#hero .hero-navigation").clone();b.attr("aria-label","Quicklink Navigation");var y=r('<div class="cloned-hero-nav"></div>'),w=r('<div class="cloned-meta-links"></div>'),x=r(".meta-links h3").clone(),C=r(".meta-links .meta-nav").clone();y.append(b),y.prependTo("#footer"),0<C.length&&(w.append(x),w.append(C),w.prependTo("#footer"));var k=function(){var e,t=r("body");e=t.hasClass("nologo")?"":r(".branding p.sitetitle img").attr("alt");var o=r("#subnav").parent();r(window).width()<768?(t.hasClass("nologo")||t.hasClass("visiblelogo")||(t.addClass("visiblelogo"),visibletitle='<span class="visiblelogo">'+e+"</span>",r(".branding p.sitetitle img").after(visibletitle)),t.hasClass("responsive-large")&&(t.removeClass("responsive-large"),t.addClass("ismobile"),o.appendTo(h))):(t.hasClass("visiblelogo")&&(t.removeClass("visiblelogo"),r(".visiblelogo").remove()),t.hasClass("ismobile")&&(t.addClass("responsive-large"),o.prependTo("#content .row:first"),t.removeClass("ismobile")))};r(window).on("resize",function(){k()}),k(),r(".sorttable").tablesorter()}),window.console&&console.log||function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],o=t.length,n=window.console={};o--;)n[t[o]]=e}(),function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}function log(e){"undefined"!=typeof console&&void 0!==console.debug?console.log(e):alert(e)}function buildParserCache(e,t){if(e.config.debug)var o="";if(0!=e.tBodies.length){var n=e.tBodies[0].rows;if(n[0])for(var a=[],i=n[0].cells.length,r=0;r<i;r++){var s=!1;$.metadata&&$(t[r]).metadata()&&$(t[r]).metadata().sorter?s=getParserById($(t[r]).metadata().sorter):e.config.headers[r]&&e.config.headers[r].sorter&&(s=getParserById(e.config.headers[r].sorter)),s||(s=detectParserForColumn(e,n,-1,r)),e.config.debug&&(o+="column:"+r+" parser:"+s.id+"\n"),a.push(s)}return e.config.debug&&log(o),a}}function detectParserForColumn(e,t,o,n){for(var a=parsers.length,i=!1,r=!1,s=!0;""==r&&s;)t[++o]?(i=getNodeFromRowAndCellIndex(t,o,n),r=trimAndGetNodeText(e.config,i),e.config.debug&&log("Checking if value was empty on row:"+o)):s=!1;for(var l=1;l<a;l++)if(parsers[l].is(r,e,i))return parsers[l];return parsers[0]}function getNodeFromRowAndCellIndex(e,t,o){return e[t].cells[o]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){for(var t=parsers.length,o=0;o<t;o++)if(parsers[o].id.toLowerCase()==e.toLowerCase())return parsers[o];return!1}function buildCache(e){if(e.config.debug)var t=new Date;for(var o=e.tBodies[0]&&e.tBodies[0].rows.length||0,n=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,a=e.config.parsers,i={row:[],normalized:[]},r=0;r<o;++r){var s=$(e.tBodies[0].rows[r]),l=[];if(s.hasClass(e.config.cssChildRow))i.row[i.row.length-1]=i.row[i.row.length-1].add(s);else{i.row.push(s);for(var c=0;c<n;++c)l.push(a[c].format(getElementText(e.config,s[0].cells[c]),e,s[0].cells[c]));l.push(i.normalized.length),i.normalized.push(l),l=null}}return e.config.debug&&benchmark("Building cache for "+o+" rows:",t),i}function getElementText(e,t){return t?(e.supportsTextContent||(e.supportsTextContent=t.textContent||!1),"simple"==e.textExtraction?e.supportsTextContent?t.textContent:t.childNodes[0]&&t.childNodes[0].hasChildNodes()?t.childNodes[0].innerHTML:t.innerHTML:"function"==typeof e.textExtraction?e.textExtraction(t):$(t).text()):""}function appendToTable(e,t){if(e.config.debug)var o=new Date;for(var n=t,a=n.row,i=n.normalized,r=i.length,s=i[0].length-1,l=$(e.tBodies[0]),c=[],d=0;d<r;d++){var p=i[d][s];if(c.push(a[p]),!e.config.appender)for(var u=a[p].length,f=0;f<u;f++)l[0].appendChild(a[p][f])}e.config.appender&&e.config.appender(e,c),c=null,e.config.debug&&benchmark("Rebuilt table:",o),applyWidget(e),setTimeout(function(){$(e).trigger("sortEnd")},0)}function buildHeaders(o){if(o.config.debug)var e=new Date;$.metadata;var n=computeTableHeaderCellIndexes(o);return $tableHeaders=$(o.config.selectorHeaders,o).each(function(e){if(this.column=n[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(o.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(o,e))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(o,e)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(o,e)),!this.sortDisabled){var t=$(this).addClass(o.config.cssHeader);o.config.onRenderHeader&&o.config.onRenderHeader.apply(t)}o.config.headerList[e]=this}),o.config.debug&&(benchmark("Built headers:",e),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(e){for(var t=[],o={},n=e.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),a=0;a<n.length;a++)for(var i=n[a].cells,r=0;r<i.length;r++){var s,l=i[r],c=l.parentNode.rowIndex,d=c+"-"+l.cellIndex,p=l.rowSpan||1,u=l.colSpan||1;void 0===t[c]&&(t[c]=[]);for(var f=0;f<t[c].length+1;f++)if(void 0===t[c][f]){s=f;break}o[d]=s;for(f=c;f<c+p;f++){void 0===t[f]&&(t[f]=[]);for(var h=t[f],g=s;g<s+u;g++)h[g]="x"}}return o}function checkCellColSpan(e,t,o){for(var n=[],a=e.tHead.rows,i=a[o].cells,r=0;r<i.length;r++){var s=i[r];1<s.colSpan?n=n.concat(checkCellColSpan(e,headerArr,o++)):(1==e.tHead.length||1<s.rowSpan||!a[o+1])&&n.push(s)}return n}function checkHeaderMetadata(e){return!(!$.metadata||!1!==$(e).metadata().sorter)}function checkHeaderOptions(e,t){return!(!e.config.headers[t]||!1!==e.config.headers[t].sorter)}function checkHeaderOptionsSortingLocked(e,t){return!(!e.config.headers[t]||!e.config.headers[t].lockedOrder)&&e.config.headers[t].lockedOrder}function applyWidget(e){for(var t=e.config.widgets,o=t.length,n=0;n<o;n++)getWidgetById(t[n]).format(e)}function getWidgetById(e){for(var t=widgets.length,o=0;o<t;o++)if(widgets[o].id.toLowerCase()==e.toLowerCase())return widgets[o]}function formatSortingOrder(e){return"Number"!=typeof e?"desc"==e.toLowerCase()?1:0:1==e?1:0}function isValueInArray(e,t){for(var o=t.length,n=0;n<o;n++)if(t[n][0]==e)return!0;return!1}function setHeadersCss(e,t,o,n){t.removeClass(n[0]).removeClass(n[1]);var a=[];t.each(function(e){this.sortDisabled||(a[this.column]=$(this))});for(var i=o.length,r=0;r<i;r++)a[o[r][0]].addClass(n[o[r][1]])}function fixColumnWidth(e,t){if(e.config.widthFixed){var o=$("<colgroup>");$("tr:first td",e.tBodies[0]).each(function(){o.append($("<col>").css("width",$(this).width()))}),$(e).prepend(o)}}function updateHeaderSortCount(e,t){for(var o=e.config,n=t.length,a=0;a<n;a++){var i=t[a],r=o.headerList[i[0]];r.count=i[1],r.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;i<l;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?makeSortFunction("text",0==order?"asc":"desc",c):makeSortFunction("numeric",0==order?"asc":"desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(e,t,o){var n="a["+o+"]",a="b["+o+"]";return"text"==e&&"asc"==t?"("+n+" == "+a+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+a+") ? -1 : 1 )));":"text"==e&&"desc"==t?"("+n+" == "+a+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+n+") ? -1 : 1 )));":"numeric"==e&&"asc"==t?"("+n+" === null && "+a+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+a+"));":"numeric"==e&&"desc"==t?"("+n+" === null && "+a+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+a+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+n+"));":void 0}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){return table.config.sortLocaleCompare?e.localeCompare(t):e<t?-1:t<e?1:0}function sortTextDesc(e,t){return table.config.sortLocaleCompare?t.localeCompare(e):t<e?-1:e<t?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(e){return this.each(function(){if(this.tHead&&this.tBodies){var s,l,c,d;this.config={},d=$.extend(this.config,$.tablesorter.defaults,e),s=$(this),$.data(this,"tablesorter",d),l=buildHeaders(this),this.config.parsers=buildParserCache(this,l),c=buildCache(this);var p=[d.cssDesc,d.cssAsc];fixColumnWidth(this),l.click(function(e){var t=s[0].tBodies[0]&&s[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&0<t){s.trigger("sortStart");$(this);var o=this.column;if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),e[d.sortMultiSortKey])if(isValueInArray(o,d.sortList))for(r=0;r<d.sortList.length;r++){var n=d.sortList[r],a=d.headerList[n[0]];n[0]==o&&(a.count=n[1],a.count++,n[1]=a.count%2)}else d.sortList.push([o,this.order]);else{if(d.sortList=[],null!=d.sortForce)for(var i=d.sortForce,r=0;r<i.length;r++)i[r][0]!=o&&d.sortList.push(i[r]);d.sortList.push([o,this.order])}return setTimeout(function(){setHeadersCss(s[0],l,d.sortList,p),appendToTable(s[0],multisort(s[0],d.sortList,c))},1),!1}}).mousedown(function(){if(d.cancelSelection)return!(this.onselectstart=function(){return!1})}),s.bind("update",function(){var e=this;setTimeout(function(){e.config.parsers=buildParserCache(e,l),c=buildCache(e)},1)}).bind("updateCell",function(e,t){var o=this.config,n=[t.parentNode.rowIndex-1,t.cellIndex];c.normalized[n[0]][n[1]]=o.parsers[n[1]].format(getElementText(o,t),t)}).bind("sorton",function(e,t){$(this).trigger("sortStart"),d.sortList=t;var o=d.sortList;updateHeaderSortCount(this,o),setHeadersCss(this,l,o,p),appendToTable(this,multisort(this,o,c))}).bind("appendCache",function(){appendToTable(this,c)}).bind("applyWidgetId",function(e,t){getWidgetById(t).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(d.sortList=$(this).metadata().sortlist),0<d.sortList.length&&s.trigger("sorton",[d.sortList]),applyWidget(this)}})},this.addParser=function(e){for(var t=parsers.length,o=!0,n=0;n<t;n++)parsers[n].id.toLowerCase()==e.id.toLowerCase()&&(o=!1);o&&parsers.push(e)},this.addWidget=function(e){widgets.push(e)},this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t},this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t},this.isDigit=function(e,t){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))},this.clearTableBody=function(e){if($.browser.msie){(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(e.tBodies[0])}else e.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(e){return!0},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(e,t){var o=t.config;return $.tablesorter.isDigit(e,o)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"}),ts.addParser({id:"currency",is:function(e){return/^[£$€?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){for(var t=e.split("."),o="",n=t.length,a=0;a<n;a++){var i=t[a];2==i.length?o+="0"+i:o+=i}return $.tablesorter.formatFloat(o)},type:"numeric"}),ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(""!=e?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var o=t.config;return e=e.replace(/\-/g,"/"),"us"==o.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==o.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=o.dateFormat&&"dd-mm-yy"!=o.dateFormat||(e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(e){return!1},format:function(e,t,o){var n=t.config,a=n.parserMetadataName?n.parserMetadataName:"sortValue";return $(o).metadata()[a]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(t){if(t.config.debug)var e=new Date;var o,n,a=-1;$("tr:visible",t.tBodies[0]).each(function(e){(o=$(this)).hasClass(t.config.cssChildRow)||a++,n=a%2==0,o.removeClass(t.config.widgetZebra.css[n?0:1]).addClass(t.config.widgetZebra.css[n?1:0])}),t.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),function(p){p.fn.hoverIntent=function(e,t,o){var n,a,i,r,s={interval:100,sensitivity:6,timeout:0};s="object"==typeof e?p.extend(s,e):p.isFunction(t)?p.extend(s,{over:e,out:t,selector:o}):p.extend(s,{over:e,out:e,selector:t});var l=function(e){n=e.pageX,a=e.pageY},c=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((i-n)*(i-n)+(r-a)*(r-a))<s.sensitivity)return p(t).off("mousemove.hoverIntent",l),t.hoverIntent_s=!0,s.over.apply(t,[e]);i=n,r=a,t.hoverIntent_t=setTimeout(function(){c(e,t)},s.interval)},d=function(e){var o=p.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===e.type?(i=o.pageX,r=o.pageY,p(n).on("mousemove.hoverIntent",l),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){c(o,n)},s.interval))):(p(n).off("mousemove.hoverIntent",l),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){var e,t;e=o,(t=n).hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,s.out.apply(t,[e])},s.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},s.selector)}}(jQuery),function(n,o,$,d){var a=$("html"),i=$(n),c=$(o),E=$.fancybox=function(){E.open.apply(this,arguments)},r=navigator.userAgent.match(/msie/i),s=null,l=o.createTouch!==d,p=function(e){return e&&e.hasOwnProperty&&e instanceof $},u=function(e){return e&&"string"===$.type(e)},S=function(e){return u(e)&&0<e.indexOf("%")},L=function(e,t){var o=parseInt(e,10)||0;return t&&S(e)&&(o*=E.getViewport()[t]/100),Math.ceil(o)},H=function(e,t){return L(e,t)+"px"};$.extend(E,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(r?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(l,c){if(l&&($.isPlainObject(c)||(c={}),!1!==E.close(!0)))return $.isArray(l)||(l=p(l)?$(l).get():[l]),$.each(l,function(e,t){var o,n,a,i,r,s={};"object"===$.type(t)&&(t.nodeType&&(t=$(t)),p(t)?(s={href:t.data("fancybox-href")||t.attr("href"),title:t.data("fancybox-title")||t.attr("title"),isDom:!0,element:t},$.metadata&&$.extend(!0,s,t.metadata())):s=t),o=c.href||s.href||(u(t)?t:null),n=c.title!==d?c.title:s.title||"",!(i=(a=c.content||s.content)?"html":c.type||s.type)&&s.isDom&&((i=t.data("fancybox-type"))||(i=(i=t.prop("class").match(/fancybox\.(\w+)/))?i[1]:null)),u(o)&&(i||(E.isImage(o)?i="image":E.isSWF(o)?i="swf":"#"===o.charAt(0)?i="inline":u(t)&&(i="html",a=t)),"ajax"===i&&(o=(r=o.split(/\s+/,2)).shift(),r=r.shift())),a||("inline"===i?o?a=$(u(o)?o.replace(/.*(?=#[^\s]+$)/,""):o):s.isDom&&(a=t):"html"===i?a=o:!i&&!o&&s.isDom&&(i="inline",a=t)),$.extend(s,{href:o,type:i,content:a,title:n,selector:r}),l[e]=s}),E.opts=$.extend(!0,{},E.defaults,c),c.keys!==d&&(E.opts.keys=!!c.keys&&$.extend({},E.defaults.keys,c.keys)),E.group=l,E._start(E.opts.index)},cancel:function(){var e=E.coming;e&&!1!==E.trigger("onCancel")&&(E.hideLoading(),E.ajaxLoad&&E.ajaxLoad.abort(),E.ajaxLoad=null,E.imgPreload&&(E.imgPreload.onload=E.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),E.coming=null,E.current||E._afterZoomOut(e))},close:function(e){E.cancel(),!1!==E.trigger("beforeClose")&&(E.unbindEvents(),E.isActive&&(E.isOpen&&!0!==e?(E.isOpen=E.isOpened=!1,E.isClosing=!0,$(".fancybox-item, .fancybox-nav").remove(),E.wrap.stop(!0,!0).removeClass("fancybox-opened"),E.transitions[E.current.closeMethod]()):($(".fancybox-wrap").stop(!0).trigger("onReset").remove(),E._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(E.player.timer)},o=function(){t(),E.current&&E.player.isActive&&(E.player.timer=setTimeout(E.next,E.current.playSpeed))},n=function(){t(),c.unbind(".player"),E.player.isActive=!1,E.trigger("onPlayEnd")};!0===e||!E.player.isActive&&!1!==e?E.current&&(E.current.loop||E.current.index<E.group.length-1)&&(E.player.isActive=!0,c.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":o,"beforeLoad.player":t}),o(),E.trigger("onPlayStart")):n()},next:function(e){var t=E.current;t&&(u(e)||(e=t.direction.next),E.jumpto(t.index+1,e,"next"))},prev:function(e){var t=E.current;t&&(u(e)||(e=t.direction.prev),E.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,o){var n=E.current;n&&(e=L(e),E.direction=t||n.direction[e>=n.index?"next":"prev"],E.router=o||"jumpto",n.loop&&(e<0&&(e=n.group.length+e%n.group.length),e%=n.group.length),n.group[e]!==d&&(E.cancel(),E._start(e)))},reposition:function(e,t){var o,n=E.current,a=n?n.wrap:null;a&&(o=E._getPosition(t),e&&"scroll"===e.type?(delete o.position,a.stop(!0,!0).animate(o,200)):(a.css(o),n.pos=$.extend({},n.dim,o)))},update:function(t){var o=t&&t.type,n=!o||"orientationchange"===o;n&&(clearTimeout(s),s=null),E.isOpen&&!s&&(s=setTimeout(function(){var e=E.current;e&&!E.isClosing&&(E.wrap.removeClass("fancybox-tmp"),(n||"load"===o||"resize"===o&&e.autoResize)&&E._setDimension(),"scroll"===o&&e.canShrink||E.reposition(t),E.trigger("onUpdate"),s=null)},n&&!l?0:300))},toggle:function(e){E.isOpen&&(E.current.fitToView="boolean"===$.type(e)?e:!E.current.fitToView,l&&(E.wrap.removeAttr("style").addClass("fancybox-tmp"),E.trigger("onUpdate")),E.update())},hideLoading:function(){c.unbind(".loading"),$("#fancybox-loading").remove()},showLoading:function(){var e,t;E.hideLoading(),e=$('<div id="fancybox-loading"><div></div></div>').click(E.cancel).appendTo("body"),c.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),E.cancel())}),E.defaults.fixed||(t=E.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var e=E.current&&E.current.locked||!1,t={x:i.scrollLeft(),y:i.scrollTop()};return t.h=e?(t.w=e[0].clientWidth,e[0].clientHeight):(t.w=l&&n.innerWidth?n.innerWidth:i.width(),l&&n.innerHeight?n.innerHeight:i.height()),t},unbindEvents:function(){E.wrap&&p(E.wrap)&&E.wrap.unbind(".fb"),c.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var t,r=E.current;r&&(i.bind("orientationchange.fb"+(l?"":" resize.fb")+(r.autoCenter&&!r.locked?" scroll.fb":""),E.update),(t=r.keys)&&c.bind("keydown.fb",function(o){var n=o.which||o.keyCode,e=o.target||o.srcElement;if(27===n&&E.coming)return!1;!o.ctrlKey&&!o.altKey&&!o.shiftKey&&!o.metaKey&&(!e||!e.type&&!$(e).is("[contenteditable]"))&&$.each(t,function(e,t){return 1<r.group.length&&t[n]!==d?(E[e](t[n]),o.preventDefault(),!1):-1<$.inArray(n,t)?(E[e](),o.preventDefault(),!1):void 0})}),$.fn.mousewheel&&r.mouseWheel&&E.wrap.bind("mousewheel.fb",function(e,t,o,n){for(var a=$(e.target||null),i=!1;a.length&&!i&&!a.is(".fancybox-skin")&&!a.is(".fancybox-wrap");)i=a[0]&&!(a[0].style.overflow&&"hidden"===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=$(a).parent();0!==t&&!i&&1<E.group.length&&!r.canShrink&&(0<n||0<o?E.prev(0<n?"down":"left"):(n<0||o<0)&&E.next(n<0?"up":"right"),e.preventDefault())}))},trigger:function(o,e){var t,n=e||E.coming||E.current;if(n){if($.isFunction(n[o])&&(t=n[o].apply(n,Array.prototype.slice.call(arguments,1))),!1===t)return!1;n.helpers&&$.each(n.helpers,function(e,t){t&&E.helpers[e]&&$.isFunction(E.helpers[e][o])&&E.helpers[e][o]($.extend(!0,{},E.helpers[e].defaults,t),n)}),c.trigger(o)}},isImage:function(e){return u(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return u(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,o,n={};if(e=L(e),!(t=E.group[e]||null))return!1;if(t=(n=$.extend(!0,{},E.opts,t)).margin,o=n.padding,"number"===$.type(t)&&(n.margin=[t,t,t,t]),"number"===$.type(o)&&(n.padding=[o,o,o,o]),n.modal&&$.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),n.autoSize&&(n.autoWidth=n.autoHeight=!0),"auto"===n.width&&(n.autoWidth=!0),"auto"===n.height&&(n.autoHeight=!0),n.group=E.group,n.index=e,E.coming=n,!1===E.trigger("beforeLoad"))E.coming=null;else{if(o=n.type,t=n.href,!o)return E.coming=null,!(!E.current||!E.router||"jumpto"===E.router)&&(E.current.index=e,E[E.router](E.direction));if(E.isActive=!0,"image"!==o&&"swf"!==o||(n.autoHeight=n.autoWidth=!1,n.scrolling="visible"),"image"===o&&(n.aspectRatio=!0),"iframe"===o&&l&&(n.scrolling="scroll"),n.wrap=$(n.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+n.wrapCSS).appendTo(n.parent||"body"),$.extend(n,{skin:$(".fancybox-skin",n.wrap),outer:$(".fancybox-outer",n.wrap),inner:$(".fancybox-inner",n.wrap)}),$.each(["Top","Right","Bottom","Left"],function(e,t){n.skin.css("padding"+t,H(n.padding[e]))}),E.trigger("onReady"),"inline"===o||"html"===o){if(!n.content||!n.content.length)return E._error("content")}else if(!t)return E._error("href");"image"===o?E._loadImage():"ajax"===o?E._loadAjax():"iframe"===o?E._loadIframe():E._afterLoad()}},_error:function(e){$.extend(E.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:E.coming.tpl.error}),E._afterLoad()},_loadImage:function(){var e=E.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,E.coming.width=this.width/E.opts.pixelRatio,E.coming.height=this.height/E.opts.pixelRatio,E._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,E._error("image")},e.src=E.coming.href,!0!==e.complete&&E.showLoading()},_loadAjax:function(){var o=E.coming;E.showLoading(),E.ajaxLoad=$.ajax($.extend({},o.ajax,{url:o.href,error:function(e,t){E.coming&&"abort"!==t?E._error("ajax",e):E.hideLoading()},success:function(e,t){"success"===t&&(o.content=e,E._afterLoad())}}))},_loadIframe:function(){var e=E.coming,t=$(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":e.iframe.scrolling).attr("src",e.href);$(e.wrap).bind("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(E.showLoading(),t.one("load",function(){$(this).data("ready",1),l||$(this).bind("load.fb",E.update),$(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),E._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||E._afterLoad()},_preloadImages:function(){var e,t,o=E.group,n=E.current,a=o.length,i=n.preload?Math.min(n.preload,a-1):0;for(t=1;t<=i;t+=1)"image"===(e=o[(n.index+t)%a]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var o,e,t,n,a,i=E.coming,r=E.current;if(E.hideLoading(),i&&!1!==E.isActive)if(!1===E.trigger("afterLoad",i,r))i.wrap.stop(!0).trigger("onReset").remove(),E.coming=null;else{switch(r&&(E.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),E.unbindEvents(),o=i.content,e=i.type,t=i.scrolling,$.extend(E,{wrap:i.wrap,skin:i.skin,outer:i.outer,inner:i.inner,current:i,previous:r}),n=i.href,e){case"inline":case"ajax":case"html":i.selector?o=$("<div>").html(o).find(i.selector):p(o)&&(o.data("fancybox-placeholder")||o.data("fancybox-placeholder",$('<div class="fancybox-placeholder"></div>').insertAfter(o).hide()),o=o.show().detach(),i.wrap.bind("onReset",function(){$(this).find(o).length&&o.hide().replaceAll(o.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":o=i.tpl.image.replace("{href}",n);break;case"swf":o='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',a="",$.each(i.swf,function(e,t){o+='<param name="'+e+'" value="'+t+'"></param>',a+=" "+e+'="'+t+'"'}),o+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}(!p(o)||!o.parent().is(i.inner))&&i.inner.append(o),E.trigger("beforeShow"),i.inner.css("overflow","yes"===t?"scroll":"no"===t?"hidden":t),E._setDimension(),E.reposition(),E.isOpen=!1,E.coming=null,E.bindEvents(),E.isOpened?r.prevMethod&&E.transitions[r.prevMethod]():$(".fancybox-wrap").not(i.wrap).stop(!0).trigger("onReset").remove(),E.transitions[E.isOpened?i.nextMethod:i.openMethod](),E._preloadImages()}},_setDimension:function(){var e,t,o,n,a,i,r,s,l,c=E.getViewport(),d=0,p=!1,u=!1,f=(p=E.wrap,E.skin),h=E.inner,g=E.current,m=(u=g.width,g.height),v=g.minWidth,b=g.minHeight,y=g.maxWidth,w=g.maxHeight,x=g.scrolling,C=g.scrollOutside?g.scrollbarWidth:0,k=g.margin,T=L(k[1]+k[3]),I=L(k[0]+k[2]);if(p.add(f).add(h).width("auto").height("auto").removeClass("fancybox-tmp"),t=T+(k=L(f.outerWidth(!0)-f.width())),o=I+(e=L(f.outerHeight(!0)-f.height())),n=S(u)?(c.w-t)*L(u)/100:u,a=S(m)?(c.h-o)*L(m)/100:m,"iframe"===g.type){if(l=g.content,g.autoHeight&&1===l.data("ready"))try{l[0].contentWindow.document.location&&(h.width(n).height(9999),i=l.contents().find("body"),C&&i.css("overflow-x","hidden"),a=i.outerHeight(!0))}catch(e){}}else(g.autoWidth||g.autoHeight)&&(h.addClass("fancybox-tmp"),g.autoWidth||h.width(n),g.autoHeight||h.height(a),g.autoWidth&&(n=h.width()),g.autoHeight&&(a=h.height()),h.removeClass("fancybox-tmp"));if(u=L(n),m=L(a),s=n/a,v=L(S(v)?L(v,"w")-t:v),y=L(S(y)?L(y,"w")-t:y),b=L(S(b)?L(b,"h")-o:b),i=y,r=w=L(S(w)?L(w,"h")-o:w),g.fitToView&&(y=Math.min(c.w-t,y),w=Math.min(c.h-o,w)),t=c.w-T,I=c.h-I,g.aspectRatio?(y<u&&(m=L((u=y)/s)),w<m&&(u=L((m=w)*s)),u<v&&(m=L((u=v)/s)),m<b&&(u=L((m=b)*s))):(u=Math.max(v,Math.min(u,y)),g.autoHeight&&"iframe"!==g.type&&(h.width(u),m=h.height()),m=Math.max(b,Math.min(m,w))),g.fitToView)if(h.width(u).height(m),p.width(u+k),c=p.width(),T=p.height(),g.aspectRatio)for(;(t<c||I<T)&&v<u&&b<m&&!(19<d++);)m=Math.max(b,Math.min(w,m-10)),(u=L(m*s))<v&&(m=L((u=v)/s)),y<u&&(m=L((u=y)/s)),h.width(u).height(m),p.width(u+k),c=p.width(),T=p.height();else u=Math.max(v,Math.min(u,u-(c-t))),m=Math.max(b,Math.min(m,m-(T-I)));C&&"auto"===x&&m<a&&u+k+C<t&&(u+=C),h.width(u).height(m),p.width(u+k),c=p.width(),T=p.height(),p=(t<c||I<T)&&v<u&&b<m,u=g.aspectRatio?u<i&&m<r&&u<n&&m<a:(u<i||m<r)&&(u<n||m<a),$.extend(g,{dim:{width:H(c),height:H(T)},origWidth:n,origHeight:a,canShrink:p,canExpand:u,wPadding:k,hPadding:e,wrapSpace:T-f.outerHeight(!0),skinSpace:f.height()-m}),!l&&g.autoHeight&&b<m&&m<w&&!u&&h.height("auto")},_getPosition:function(e){var t=E.current,o=E.getViewport(),n=t.margin,a=E.wrap.width()+n[1]+n[3],i=E.wrap.height()+n[0]+n[2];n={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&i<=o.h&&a<=o.w?n.position="fixed":t.locked||(n.top+=o.y,n.left+=o.x),n.top=H(Math.max(n.top,n.top+(o.h-i)*t.topRatio)),n.left=H(Math.max(n.left,n.left+(o.w-a)*t.leftRatio)),n},_afterZoomIn:function(){var t=E.current;t&&(E.isOpen=E.isOpened=!0,E.wrap.css("overflow","visible").addClass("fancybox-opened"),E.update(),(t.closeClick||t.nextClick&&1<E.group.length)&&E.inner.css("cursor","pointer").bind("click.fb",function(e){!$(e.target).is("a")&&!$(e.target).parent().is("a")&&(e.preventDefault(),E[t.closeClick?"close":"next"]())}),t.closeBtn&&$(t.tpl.closeBtn).appendTo(E.skin).bind("click.fb",function(e){e.preventDefault(),E.close()}),t.arrows&&1<E.group.length&&((t.loop||0<t.index)&&$(t.tpl.prev).appendTo(E.outer).bind("click.fb",E.prev),(t.loop||t.index<E.group.length-1)&&$(t.tpl.next).appendTo(E.outer).bind("click.fb",E.next)),E.trigger("afterShow"),t.loop||t.index!==t.group.length-1?E.opts.autoPlay&&!E.player.isActive&&(E.opts.autoPlay=!1,E.play()):E.play(!1))},_afterZoomOut:function(e){e=e||E.current,$(".fancybox-wrap").trigger("onReset").remove(),$.extend(E,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),E.trigger("afterClose",e)}}),E.transitions={getOrigPosition:function(){var e=E.current,t=e.element,o=e.orig,n={},a=50,i=50,r=e.hPadding,s=e.wPadding,l=E.getViewport();return!o&&e.isDom&&t.is(":visible")&&((o=t.find("img:first")).length||(o=t)),p(o)?(n=o.offset(),o.is("img")&&(a=o.outerWidth(),i=o.outerHeight())):(n.top=l.y+(l.h-i)*e.topRatio,n.left=l.x+(l.w-a)*e.leftRatio),("fixed"===E.wrap.css("position")||e.locked)&&(n.top-=l.y,n.left-=l.x),{top:H(n.top-r*e.topRatio),left:H(n.left-s*e.leftRatio),width:H(a+s),height:H(i+r)}},step:function(e,t){var o,n,a=t.prop,i=(n=E.current).wrapSpace,r=n.skinSpace;"width"!==a&&"height"!==a||(o=t.end===t.start?1:(e-t.start)/(t.end-t.start),E.isClosing&&(o=1-o),n=e-(n="width"===a?n.wPadding:n.hPadding),E.skin[a](L("width"===a?n:n-i*o)),E.inner[a](L("width"===a?n:n-i*o-r*o)))},zoomIn:function(){var e=E.current,t=e.pos,o=e.openEffect,n="elastic"===o,a=$.extend({opacity:1},t);delete a.position,n?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===o&&(t.opacity=.1),E.wrap.css(t).animate(a,{duration:"none"===o?0:e.openSpeed,easing:e.openEasing,step:n?this.step:null,complete:E._afterZoomIn})},zoomOut:function(){var e=E.current,t=e.closeEffect,o="elastic"===t,n={opacity:.1};o&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),E.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:o?this.step:null,complete:E._afterZoomOut})},changeIn:function(){var e,t=E.current,o=t.nextEffect,n=t.pos,a={opacity:1},i=E.direction;n.opacity=.1,"elastic"===o&&(a[e="down"===i||"up"===i?"top":"left"]="down"===i||"right"===i?(n[e]=H(L(n[e])-200),"+=200px"):(n[e]=H(L(n[e])+200),"-=200px")),"none"===o?E._afterZoomIn():E.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:E._afterZoomIn})},changeOut:function(){var e=E.previous,t=e.prevEffect,o={opacity:.1},n=E.direction;"elastic"===t&&(o["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),e.wrap.animate(o,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){$(this).trigger("onReset").remove()}})}},E.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!l,fixed:!0},overlay:null,fixed:!1,el:$("html"),create:function(e){e=$.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=$('<div class="fancybox-overlay"></div>').appendTo(E.coming?E.coming.parent:e.parent),this.fixed=!1,e.fixed&&E.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=$.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(i.bind("resize.overlay",$.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if($(e.target).hasClass("fancybox-overlay"))return E.isActive?E.close():t.close(),!1}),this.overlay.css(e.css).show()},close:function(){var e,t;i.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&($(".fancybox-margin").removeClass("fancybox-margin"),e=i.scrollTop(),t=i.scrollLeft(),this.el.removeClass("fancybox-lock"),i.scrollTop(e).scrollLeft(t)),$(".fancybox-overlay").remove().hide(),$.extend(this,{overlay:null,fixed:!1})},update:function(){var e,t="100%";this.overlay.width(t).height("100%"),r?(e=Math.max(o.documentElement.offsetWidth,o.body.offsetWidth),c.width()>e&&(t=c.width())):c.width()>i.width()&&(t=c.width()),this.overlay.width(t).height(c.height())},onReady:function(e,t){var o=this.overlay;$(".fancybox-overlay").stop(!0,!0),o||this.create(e),e.locked&&this.fixed&&t.fixed&&(o||(this.margin=c.height()>i.height()&&$("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var o,n;t.locked&&(!1!==this.margin&&($("*").filter(function(){return"fixed"===$(this).css("position")&&!$(this).hasClass("fancybox-overlay")&&!$(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),o=i.scrollTop(),n=i.scrollLeft(),this.el.addClass("fancybox-lock"),i.scrollTop(o).scrollLeft(n)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!E.coming&&this.overlay.fadeOut(e.speedOut,$.proxy(this.close,this))}},E.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=E.current,o=t.title,n=e.type;if($.isFunction(o)&&(o=o.call(t.element,t)),u(o)&&""!==$.trim(o)){switch(t=$('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+o+"</div>"),n){case"inside":n=E.skin;break;case"outside":n=E.wrap;break;case"over":n=E.inner;break;default:n=E.skin,t.appendTo("body"),r&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),E.current.margin[2]+=Math.abs(L(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},$.fn.fancybox=function(i){var r,s=$(this),l=this.selector||"",e=function(e){var t,o,n=$(this).blur(),a=r;!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!n.is(".fancybox-wrap")&&(t=i.groupAttr||"data-fancybox-group",(o=n.attr(t))||(t="rel",o=n.get(0)[t]),o&&""!==o&&"nofollow"!==o&&(a=(n=(n=l.length?$(l):s).filter("["+t+'="'+o+'"]')).index(this)),i.index=a,!1!==E.open(n,i)&&e.preventDefault())};return r=(i=i||{}).index||0,l&&!1!==i.live?c.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e):s.unbind("click.fb-start").bind("click.fb-start",e),this.filter("[data-fancybox-start=1]").trigger("click"),this},c.ready(function(){var e,t;if($.scrollbarWidth===d&&($.scrollbarWidth=function(){var e=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=(t=e.children()).innerWidth()-t.height(99).innerWidth();return e.remove(),t}),$.support.fixedPosition===d){e=$.support;var o=20===(t=$('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===t[0].offsetTop;t.remove(),e.fixedPosition=o}$.extend(E.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")}),e=$(n).width(),a.addClass("fancybox-lock-test"),t=$(n).width(),a.removeClass("fancybox-lock-test"),$("<style type='text/css'>.fancybox-margin{margin-right:"+(t-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery);